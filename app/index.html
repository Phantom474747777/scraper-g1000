<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scraper G1000</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <!-- Main App Container -->
    <div id="app" class="app-container">
        <!-- Profile Selection Screen (Initial) -->
        <div id="profile-selector" class="screen active">
            <div class="centered-content">
                <div class="app-logo">
                    <div class="logo-icon">‚ö°</div>
                    <h1 class="app-title">Scraper G1000</h1>
                    <p class="app-subtitle">Business Lead Generation</p>
                </div>

                <div class="profile-list" id="profileList">
                    <!-- Profiles will be loaded here -->
                    <div class="profile-loading">Loading profiles...</div>
                </div>

                <button class="btn-create-profile" id="btnCreateProfile">
                    <span>+ Create New Profile</span>
                </button>
            </div>
        </div>

        <!-- Dashboard Screen -->
        <div id="dashboard" class="screen">
            <!-- Top Bar -->
            <div class="top-bar">
                <div class="top-bar-left">
                    <span class="app-icon">‚ö°</span>
                    <span class="app-name">Scraper G1000</span>
                </div>
                <div class="top-bar-center">
                    <span class="current-profile" id="currentProfile">CritterCaptures</span>
                </div>
                <div class="top-bar-right">
                    <button class="icon-btn" id="btnSettings" title="Settings">‚öôÔ∏è</button>
                    <button class="icon-btn" id="btnBack" title="Change Profile">‚Üê</button>
                </div>
            </div>

            <!-- Main Content -->
            <div class="main-content">
                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üìä</div>
                        <div class="stat-info">
                            <div class="stat-value" id="statTotalLeads">0</div>
                            <div class="stat-label">Total Leads</div>
                        </div>
                    </div>

                    <div class="stat-card clickable" id="cardManualScrape">
                        <div class="stat-icon">üéØ</div>
                        <div class="stat-info">
                            <div class="stat-value">Manual</div>
                            <div class="stat-label">Scrape Mode</div>
                        </div>
                        <div class="card-arrow">‚Üí</div>
                    </div>

                    <div class="stat-card clickable" id="cardAutoScrape">
                        <div class="stat-icon">ü§ñ</div>
                        <div class="stat-info">
                            <div class="stat-value">Auto</div>
                            <div class="stat-label">Pilot Mode</div>
                        </div>
                        <div class="card-arrow">‚Üí</div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="section">
                    <div class="section-header">
                        <h2>Recent Activity</h2>
                        <button class="btn-link" id="btnViewAll">View All ‚Üí</button>
                    </div>
                    <div class="activity-list" id="activityList">
                        <div class="activity-item">
                            <div class="activity-icon">‚úì</div>
                            <div class="activity-details">
                                <div class="activity-title">33527 ¬∑ Real Estate Agents</div>
                                <div class="activity-subtitle">45 leads ¬∑ 2 hours ago</div>
                            </div>
                        </div>
                        <!-- More activities will be loaded -->
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <button class="btn-primary" id="btnViewLeads">
                        <span>View All Leads</span>
                    </button>
                    <button class="btn-secondary" id="btnExport">
                        <span>Export Data</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Manual Scrape Screen -->
        <div id="manual-scrape" class="screen">
            <div class="screen-header">
                <button class="btn-back" id="btnBackFromManual">‚Üê Back</button>
                <h1>Manual Scrape</h1>
            </div>

            <div class="scrape-form">
                <div class="form-section">
                    <h3>Step 1: Location</h3>
                    <div class="form-group">
                        <label>City</label>
                        <input type="text" id="inputCity" placeholder="Dover" class="input-field">
                    </div>
                    <div class="form-group">
                        <label>State</label>
                        <input type="text" id="inputState" placeholder="FL" class="input-field" maxlength="2">
                    </div>
                    <div class="form-group">
                        <label>Radius (miles)</label>
                        <input type="range" id="inputRadius" min="10" max="100" value="50" class="slider">
                        <span id="radiusValue">50</span> miles
                    </div>
                </div>

                <div class="form-section">
                    <h3>Step 2: Select ZIP Code</h3>
                    <div id="zipList" class="zip-list">
                        <div class="loading">Click "Find ZIPs" to start</div>
                    </div>
                    <button class="btn-secondary" id="btnFindZips">Find ZIPs</button>
                </div>

                <div class="form-section">
                    <h3>Step 3: Select Category</h3>
                    <select id="selectCategory" class="select-field">
                        <option value="">Choose a category...</option>
                        <option value="Real Estate Agents">Real Estate Agents</option>
                        <option value="Property Managers">Property Managers</option>
                        <option value="Home Inspectors">Home Inspectors</option>
                        <option value="Roofing Contractors">Roofing Contractors</option>
                        <option value="HVAC Services">HVAC Services</option>
                        <option value="Plumbing Companies">Plumbing Companies</option>
                        <option value="Landscaping Companies">Landscaping Companies</option>
                        <option value="Cleaning Services">Cleaning Services</option>
                        <option value="custom">‚úèÔ∏è Custom Category...</option>
                    </select>

                    <div id="customCategoryContainer" style="display: none; margin-top: 10px;">
                        <input type="text" id="inputCustomCategory" placeholder="Enter custom category (e.g., Homeowners)" class="input-field">
                    </div>
                </div>

                <div class="form-actions">
                    <button class="btn-primary btn-large" id="btnStartScrape" disabled>
                        Start Scraping ‚Üí
                    </button>
                </div>
            </div>
        </div>

        <!-- Scraping Progress Screen -->
        <div id="scraping-progress" class="screen">
            <div class="progress-container">
                <h2>Scraping in Progress...</h2>
                <div class="progress-info">
                    <div id="scrapeStatus">33527 ¬∑ Real Estate Agents</div>
                </div>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progressBar" style="width: 0%"></div>
                </div>
                <div class="progress-stats">
                    <div id="progressText">Page 1 of 2 ¬∑ 28 leads</div>
                    <div id="progressTime">45 seconds remaining</div>
                </div>
                <div class="progress-actions">
                    <button class="btn-secondary" id="btnPauseScrape">‚è∏ Pause</button>
                    <button class="btn-danger" id="btnCancelScrape">√ó Cancel</button>
                </div>
            </div>
        </div>

        <!-- Automation Screen -->
        <div id="auto-scrape" class="screen">
            <div class="screen-header">
                <button class="btn-back" id="btnBackFromAuto">‚Üê Back</button>
                <h1>ü§ñ Automation Mode</h1>
            </div>

            <div class="auto-container">
                <!-- Configuration Panel -->
                <div class="auto-config-panel">
                    <div class="form-section">
                        <h3>üìç Location Setup</h3>
                        <div class="form-group">
                            <label>City</label>
                            <input type="text" id="autoInputCity" placeholder="Dover" class="input-field">
                        </div>
                        <div class="form-group">
                            <label>State</label>
                            <input type="text" id="autoInputState" placeholder="FL" class="input-field" maxlength="2">
                        </div>
                        <div class="form-group">
                            <label>Radius (miles)</label>
                            <input type="range" id="autoInputRadius" min="10" max="100" value="50" class="slider">
                            <span id="autoRadiusValue">50</span> miles
                        </div>
                        <button class="btn-secondary btn-block" id="btnAutoFindZips">Find ZIP Codes</button>
                    </div>

                    <div class="form-section">
                        <h3>üéØ Categories to Scrape</h3>
                        <div class="checkbox-grid" id="autoCategoryCheckboxes">
                            <label class="checkbox-label">
                                <input type="checkbox" value="Real Estate Agents" class="category-checkbox">
                                <span>Real Estate Agents</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" value="Property Managers" class="category-checkbox">
                                <span>Property Managers</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" value="Home Inspectors" class="category-checkbox">
                                <span>Home Inspectors</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" value="Roofing Contractors" class="category-checkbox">
                                <span>Roofing Contractors</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" value="HVAC Services" class="category-checkbox">
                                <span>HVAC Services</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" value="Plumbing Companies" class="category-checkbox">
                                <span>Plumbing Companies</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" value="Landscaping Companies" class="category-checkbox">
                                <span>Landscaping Companies</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" value="Cleaning Services" class="category-checkbox">
                                <span>Cleaning Services</span>
                            </label>
                        </div>
                        <div style="margin-top: 15px;">
                            <button class="btn-link" id="btnSelectAllCategories">Select All</button>
                            <button class="btn-link" id="btnDeselectAllCategories">Deselect All</button>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>‚öôÔ∏è Settings</h3>
                        <div class="form-group">
                            <label>Max Leads per Category</label>
                            <input type="number" id="autoMaxLeads" value="50" min="10" max="200" class="input-field">
                        </div>
                        <div class="form-group">
                            <label>Delay Between Scrapes (seconds)</label>
                            <input type="number" id="autoDelay" value="5" min="0" max="60" class="input-field">
                        </div>
                    </div>

                    <div class="form-actions">
                        <button class="btn-primary btn-large" id="btnBuildQueue" disabled>
                            Build Queue ‚Üí
                        </button>
                    </div>
                </div>

                <!-- Queue Panel -->
                <div class="auto-queue-panel">
                    <div class="queue-header">
                        <h3>üìã Scraping Queue</h3>
                        <span class="queue-count" id="queueCount">0 jobs</span>
                    </div>

                    <div class="queue-list" id="queueList">
                        <div class="queue-empty">
                            <div class="empty-icon">üì≠</div>
                            <p>No jobs in queue</p>
                            <p class="empty-hint">Configure settings and click "Build Queue" to start</p>
                        </div>
                    </div>

                    <div class="queue-actions">
                        <button class="btn-secondary" id="btnClearQueue" disabled>Clear Queue</button>
                        <button class="btn-success btn-large" id="btnStartAutomation" disabled>
                            ‚ñ∂ Start Automation
                        </button>
                    </div>

                    <div class="queue-stats" id="queueStats" style="display: none;">
                        <div class="stat-row">
                            <span>Total ZIPs:</span>
                            <strong id="statTotalZips">0</strong>
                        </div>
                        <div class="stat-row">
                            <span>Total Categories:</span>
                            <strong id="statTotalCategories">0</strong>
                        </div>
                        <div class="stat-row">
                            <span>Total Jobs:</span>
                            <strong id="statTotalJobs">0</strong>
                        </div>
                        <div class="stat-row">
                            <span>Estimated Time:</span>
                            <strong id="statEstimatedTime">~0 min</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Automation Progress Screen -->
        <div id="auto-progress" class="screen">
            <div class="progress-container">
                <h2>ü§ñ Automation Running</h2>

                <div class="auto-progress-summary">
                    <div class="progress-stat">
                        <div class="progress-stat-value" id="autoJobsComplete">0</div>
                        <div class="progress-stat-label">Jobs Complete</div>
                    </div>
                    <div class="progress-stat">
                        <div class="progress-stat-value" id="autoJobsRemaining">0</div>
                        <div class="progress-stat-label">Jobs Remaining</div>
                    </div>
                    <div class="progress-stat">
                        <div class="progress-stat-value" id="autoTotalLeads">0</div>
                        <div class="progress-stat-label">Total Leads Found</div>
                    </div>
                </div>

                <div class="current-job-card">
                    <div class="current-job-label">Currently Scraping:</div>
                    <div class="current-job-info" id="autoCurrentJob">33527 ¬∑ Real Estate Agents</div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="autoProgressBar" style="width: 0%"></div>
                    </div>
                    <div class="current-job-stats" id="autoCurrentStats">Finding businesses...</div>
                </div>

                <div class="progress-actions">
                    <button class="btn-secondary" id="btnPauseAutomation">‚è∏ Pause</button>
                    <button class="btn-danger" id="btnCancelAutomation">√ó Stop Automation</button>
                </div>

                <div class="upcoming-jobs">
                    <h4>Upcoming Jobs</h4>
                    <div class="upcoming-jobs-list" id="upcomingJobsList">
                        <!-- Will be populated dynamically -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Leads Viewer Screen -->
        <div id="leads-viewer" class="screen">
            <div class="screen-header">
                <button class="btn-back" id="btnBackFromLeads">‚Üê Back</button>
                <h1>All Leads</h1>
                <div class="header-actions">
                    <input type="search" id="searchLeads" placeholder="Search leads..." class="search-field">
                    <button class="btn-secondary" id="btnFilterLeads">Filter</button>
                    <button class="btn-primary" id="btnExportLeads">Export ‚Üì</button>
                </div>
            </div>

            <div class="leads-table-container">
                <table class="leads-table">
                    <thead>
                        <tr>
                            <th><input type="checkbox" id="selectAll"></th>
                            <th>Name</th>
                            <th>Category</th>
                            <th>Phone</th>
                            <th>Address</th>
                            <th>ZIP</th>
                        </tr>
                    </thead>
                    <tbody id="leadsTableBody">
                        <tr>
                            <td colspan="6" class="loading">Loading leads...</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="table-footer">
                <div>Showing <span id="leadsCount">0</span> leads</div>
                <div class="pagination">
                    <button class="btn-icon">‚Üê</button>
                    <span>Page 1 of 25</span>
                    <button class="btn-icon">‚Üí</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script src="js/automation.js"></script>
</body>
</html>
